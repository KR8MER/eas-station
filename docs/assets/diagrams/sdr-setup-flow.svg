<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="900" height="1000" viewBox="0 0 900 1000" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="sdr-title">
  <title id="sdr-title">SDR Setup and Configuration Flow</title>
  <desc>Visual guide for setting up and configuring Software-Defined Radio receivers in EAS Station</desc>

  <defs>
    <linearGradient id="sdr-grad-hw" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4f46e5;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="sdr-grad-config" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="sdr-grad-test" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="sdr-grad-success" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <filter id="sdr-shadow">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
    <marker id="sdr-arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#334155" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="900" height="1000" fill="#f8fafc"/>

  <!-- Title Section -->
  <text x="450" y="35" font-family="Arial, sans-serif" font-size="26" font-weight="bold" text-anchor="middle" fill="#1e293b">
    SDR Setup &amp; Configuration
  </text>
  <text x="450" y="58" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#64748b">
    Complete workflow for Software-Defined Radio receiver setup
  </text>

  <!-- Phase 1: Hardware Setup -->
  <rect x="50" y="90" width="800" height="210" rx="8" fill="#eff6ff" stroke="#3b82f6" stroke-width="2"/>
  <text x="60" y="115" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e40af">
    Phase 1: Hardware Setup
  </text>

  <!-- RTL-SDR -->
  <rect x="80" y="140" width="170" height="140" rx="6" fill="url(#sdr-grad-hw)" filter="url(#sdr-shadow)"/>
  <text x="165" y="162" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">RTL-SDR Dongle</text>
  <text x="165" y="185" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#e0e7ff">Cost: $20-40</text>
  <text x="165" y="202" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#e0e7ff">Range: 24 MHz - 1.7 GHz</text>
  <text x="165" y="219" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#e0e7ff">Sample: 2.4 MSPS</text>
  <text x="165" y="240" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="#fef3c7">âœ“ Recommended</text>
  <text x="165" y="255" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="#fef3c7">for NOAA (162 MHz)</text>
  <text x="165" y="270" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#c7d2fe">RTL2832U chip</text>

  <!-- Airspy -->
  <rect x="280" y="140" width="170" height="140" rx="6" fill="url(#sdr-grad-hw)" filter="url(#sdr-shadow)"/>
  <text x="365" y="162" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Airspy</text>
  <text x="365" y="185" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#e0e7ff">Cost: $100-200+</text>
  <text x="365" y="202" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#e0e7ff">Higher performance</text>
  <text x="365" y="219" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#e0e7ff">Better sensitivity</text>
  <text x="365" y="240" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#e0e7ff">Optional upgrade</text>
  <text x="365" y="255" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#e0e7ff">for advanced users</text>

  <!-- Antenna -->
  <rect x="480" y="140" width="170" height="140" rx="6" fill="url(#sdr-grad-hw)" filter="url(#sdr-shadow)"/>
  <text x="565" y="162" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">VHF Antenna</text>
  <text x="565" y="185" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#e0e7ff">For 162 MHz reception</text>
  <text x="565" y="207" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#e0e7ff">Options:</text>
  <text x="565" y="223" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#e0e7ff">â€¢ Telescoping whip</text>
  <text x="565" y="238" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#e0e7ff">â€¢ 1/4 wave ground plane</text>
  <text x="565" y="253" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#e0e7ff">â€¢ Scanner antenna</text>
  <text x="565" y="270" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#c7d2fe">~19" for 162 MHz</text>

  <!-- USB Connection -->
  <rect x="680" y="180" width="140" height="60" rx="6" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" filter="url(#sdr-shadow)"/>
  <text x="750" y="202" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#92400e">Connect via USB</text>
  <text x="750" y="220" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#92400e">Plug into Raspberry Pi</text>
  <text x="750" y="234" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#92400e">or Docker host</text>

  <path d="M 450,210 L 680,210" stroke="#334155" stroke-width="2" fill="none" marker-end="url(#sdr-arrow)"/>

  <!-- Phase 2: Software Configuration -->
  <rect x="50" y="330" width="800" height="280" rx="8" fill="#f0fdf4" stroke="#10b981" stroke-width="2"/>
  <text x="60" y="355" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#065f46">
    Phase 2: Software Configuration
  </text>

  <!-- Step 1: Access Web UI -->
  <rect x="80" y="380" width="180" height="70" rx="6" fill="url(#sdr-grad-config)" filter="url(#sdr-shadow)"/>
  <text x="170" y="403" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">1. Access Web UI</text>
  <text x="170" y="423" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#d1fae5">Settings â†’</text>
  <text x="170" y="438" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#d1fae5">Radio Receivers</text>

  <path d="M 750,240 L 750,320 L 170,320 L 170,380" stroke="#334155" stroke-width="2" fill="none" marker-end="url(#sdr-arrow)"/>

  <!-- Step 2: Run Diagnostics -->
  <rect x="290" y="380" width="180" height="70" rx="6" fill="url(#sdr-grad-config)" filter="url(#sdr-shadow)"/>
  <text x="380" y="403" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">2. Run Diagnostics</text>
  <text x="380" y="423" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#d1fae5">Verify SoapySDR,</text>
  <text x="380" y="438" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#d1fae5">drivers, and devices</text>

  <path d="M 260,415 L 290,415" stroke="#334155" stroke-width="2" fill="none" marker-end="url(#sdr-arrow)"/>

  <!-- Step 3: Discover Devices -->
  <rect x="500" y="380" width="180" height="70" rx="6" fill="url(#sdr-grad-config)" filter="url(#sdr-shadow)"/>
  <text x="590" y="403" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">3. Discover Devices</text>
  <text x="590" y="423" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#d1fae5">Auto-detect connected</text>
  <text x="590" y="438" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#d1fae5">SDR hardware</text>

  <path d="M 470,415 L 500,415" stroke="#334155" stroke-width="2" fill="none" marker-end="url(#sdr-arrow)"/>

  <!-- Step 4: Apply Preset -->
  <rect x="80" y="480" width="250" height="110" rx="6" fill="url(#sdr-grad-config)" filter="url(#sdr-shadow)"/>
  <text x="205" y="503" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">4. Apply Preset Configuration</text>
  <text x="205" y="525" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#d1fae5">Choose preset:</text>
  <text x="205" y="543" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#d1fae5">â€¢ NOAA Weather (RTL-SDR)</text>
  <text x="205" y="558" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#d1fae5">â€¢ NOAA Weather (Airspy)</text>
  <text x="205" y="576" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#fef3c7">Auto-fills frequency, gain, sample rate</text>

  <path d="M 590,450 L 590,535 L 330,535" stroke="#334155" stroke-width="2" fill="none" marker-end="url(#sdr-arrow)"/>

  <!-- Step 5: Fine-tune -->
  <rect x="360" y="480" width="250" height="110" rx="6" fill="url(#sdr-grad-config)" filter="url(#sdr-shadow)"/>
  <text x="485" y="503" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">5. Fine-Tune Settings</text>
  <text x="485" y="525" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#d1fae5">Adjust for local station:</text>
  <text x="485" y="543" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#d1fae5">Frequency: 162.400 - 162.550 MHz</text>
  <text x="485" y="558" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#d1fae5">Gain: 0-50 dB (RTL-SDR)</text>
  <text x="485" y="573" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#d1fae5">Sample Rate: 2.4 MSPS</text>

  <path d="M 330,535 L 360,535" stroke="#334155" stroke-width="2" fill="none" marker-end="url(#sdr-arrow)"/>

  <!-- Step 6: Enable -->
  <rect x="640" y="510" width="180" height="50" rx="6" fill="url(#sdr-grad-config)" filter="url(#sdr-shadow)"/>
  <text x="730" y="532" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">6. Enable &amp; Save</text>
  <text x="730" y="550" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#d1fae5">âœ“ Enabled  âœ“ Auto-start</text>

  <path d="M 610,535 L 640,535" stroke="#334155" stroke-width="2" fill="none" marker-end="url(#sdr-arrow)"/>

  <!-- Phase 3: Testing & Verification -->
  <rect x="50" y="640" width="800" height="200" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="60" y="665" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#92400e">
    Phase 3: Testing &amp; Verification
  </text>

  <!-- Monitor Status -->
  <rect x="80" y="690" width="200" height="130" rx="6" fill="url(#sdr-grad-test)" filter="url(#sdr-shadow)"/>
  <text x="180" y="712" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Monitor Receiver Status</text>
  <text x="180" y="735" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fef9c3">Check for:</text>
  <text x="180" y="752" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fef9c3">âœ“ "Locked" status badge</text>
  <text x="180" y="769" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fef9c3">âœ“ Signal strength > 0.1 dBFS</text>
  <text x="180" y="786" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fef9c3">âœ“ No error messages</text>
  <text x="180" y="806" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#fffbeb">Auto-updates every 5s</text>

  <path d="M 730,560 L 730,620 L 180,620 L 180,690" stroke="#334155" stroke-width="2" fill="none" marker-end="url(#sdr-arrow)"/>

  <!-- Signal Quality -->
  <rect x="310" y="690" width="250" height="130" rx="6" fill="url(#sdr-grad-test)" filter="url(#sdr-shadow)"/>
  <text x="435" y="712" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Verify Signal Quality</text>
  <text x="435" y="735" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fef9c3">Signal Levels:</text>
  <text x="435" y="752" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#fef9c3">ðŸŸ¢ Good: 0.1 - 1.0 dBFS</text>
  <text x="435" y="767" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#fef9c3">ðŸŸ¡ Weak: 0.01 - 0.1 dBFS</text>
  <text x="435" y="782" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#fef9c3">ðŸ”´ Too strong: > 1.0 dBFS</text>
  <text x="435" y="800" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#fffbeb">Adjust gain if needed</text>

  <path d="M 280,755 L 310,755" stroke="#334155" stroke-width="2" fill="none" marker-end="url(#sdr-arrow)"/>

  <!-- Troubleshooting -->
  <rect x="590" y="690" width="230" height="130" rx="6" fill="#fca5a5" stroke="#dc2626" stroke-width="2" filter="url(#sdr-shadow)"/>
  <text x="705" y="712" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#7f1d1d">Troubleshooting</text>
  <text x="705" y="733" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#7f1d1d">If "No Lock" status:</text>
  <text x="705" y="748" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#7f1d1d">â€¢ Verify correct frequency</text>
  <text x="705" y="763" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#7f1d1d">â€¢ Check antenna connection</text>
  <text x="705" y="778" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#7f1d1d">â€¢ Try higher gain setting</text>
  <text x="705" y="793" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#7f1d1d">â€¢ Move to better location</text>
  <text x="705" y="811" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#991b1b">See SDR Setup Guide</text>

  <!-- Success -->
  <ellipse cx="450" cy="920" rx="120" ry="50" fill="url(#sdr-grad-success)" filter="url(#sdr-shadow)"/>
  <text x="450" y="915" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">âœ“ Setup Complete</text>
  <text x="450" y="935" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">SDR receiver monitoring</text>

  <path d="M 435,820 L 435,890 L 450,890" stroke="#334155" stroke-width="2" fill="none" marker-end="url(#sdr-arrow)"/>

  <!-- Footer -->
  <text x="450" y="985" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#64748b">
    Detailed instructions: docs/guides/sdr_setup_guide.md | Web UI: /settings/radio
  </text>
</svg>
