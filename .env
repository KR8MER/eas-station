# NOAA CAP Emergency Alert System default environment
# These values mirror the deployed container configuration shown in Portainer
# and should be reviewed and customized for your installation before production use.

# -----------------------------------------------------------------------------
# Flask application configuration
# -----------------------------------------------------------------------------
FLASK_ENV=production
FLASK_APP=app.py
FLASK_RUN_HOST=0.0.0.0
FLASK_RUN_PORT=5000
SECRET_KEY=change-me
APP_BUILD_VERSION=2.1.7
NOAA_USER_AGENT=KR8MER CAP Alert System/2.1 (+https://github.com/KR8MER/noaa_alerts_systems)

# -----------------------------------------------------------------------------
# Database connection (PostgreSQL + PostGIS)
# -----------------------------------------------------------------------------
POSTGRES_HOST=alerts-db
POSTGRES_PORT=5432
POSTGRES_DB=alerts
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
DATABASE_URL=postgresql+psycopg2://postgres:postgres@alerts-db:5432/alerts

# Additional database metadata shared with infrastructure tooling
ALERTS_DB_HOST=alerts-db
ALERTS_DB_PORT=5432
ALERTS_DB_NAME=alerts
ALERTS_DB_USER=postgres
ALERTS_DB_PASS=postgres
ALERTS_DB_CONTAINER=alerts-db
ALERTS_DB_VOLUME=noaa_alerts_systems_alerts-db
ALERTS_DB_VERSION=16.2
ALERTS_DB_IMAGE=postgis/postgis:16-3.3

# -----------------------------------------------------------------------------
# Poller behaviour
# -----------------------------------------------------------------------------
POLL_INTERVAL_SEC=180
CAP_TIMEOUT=30

# -----------------------------------------------------------------------------
# File paths and logging
# -----------------------------------------------------------------------------
UPLOAD_FOLDER=/app/uploads
LOG_FILE=logs/noaa_alerts.log
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Optional LED sign integration
# -----------------------------------------------------------------------------
LED_SIGN_IP=
LED_SIGN_PORT=10001

# -----------------------------------------------------------------------------
# SAME / EAS broadcaster configuration
# -----------------------------------------------------------------------------
EAS_BROADCAST_ENABLED=false
EAS_OUTPUT_DIR=static/eas_messages
EAS_OUTPUT_WEB_SUBDIR=eas_messages
EAS_OUTPUT_WEB_PATH=
EAS_ORIGINATOR=WXR
EAS_STATION_ID=EASNODES
EAS_CALL_SIGN=EASNODES
EAS_AUDIO_PLAYER=aplay
EAS_ATTENTION_TONE_SECONDS=8
EAS_GPIO_PIN=
EAS_GPIO_ACTIVE_STATE=HIGH
EAS_GPIO_HOLD_SECONDS=5
EAS_MANUAL_FIPS_CODES=039137
EAS_MANUAL_EVENT_CODES=TESTS
EAS_SAMPLE_RATE=44100

# -----------------------------------------------------------------------------
# Optional Azure AI Speech voiceover configuration (legacy)
# -----------------------------------------------------------------------------
AZURE_SPEECH_KEY=
AZURE_SPEECH_REGION=
# AZURE_SPEECH_VOICE=en-US-AriaNeural
# AZURE_SPEECH_SAMPLE_RATE=24000

# -----------------------------------------------------------------------------
# Optional Azure OpenAI TTS voiceover configuration (recommended)
# Set EAS_TTS_PROVIDER=azure_openai to use this.
# -----------------------------------------------------------------------------
AZURE_OPENAI_ENDPOINT=https://me-mhcj549b-swedencentral.cognitiveservices.azure.com/openai/deployments/tts-hd/audio/speech?api-version=2025-03-01-preview
AZURE_OPENAI_KEY=YOUR_API_KEY_HERE
AZURE_OPENAI_VOICE=alloy
AZURE_OPENAI_MODEL=tts-1-hd
AZURE_OPENAI_SPEED=1.0

# -----------------------------------------------------------------------------
# Optional notification settings (disabled by default)
# -----------------------------------------------------------------------------
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_SMS_NOTIFICATIONS=false
MAIL_SERVER=
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=
MAIL_PASSWORD=

# -----------------------------------------------------------------------------
# Performance tuning
# -----------------------------------------------------------------------------
CACHE_TIMEOUT=300
MAX_WORKERS=2

# -----------------------------------------------------------------------------
# System metadata shared with watchdog/monitoring services
# -----------------------------------------------------------------------------
TZ=America/New_York
WATCHTOWER_LABEL_ENABLE=true
WATCHTOWER_MONITOR_ONLY=false
