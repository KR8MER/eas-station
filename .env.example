# NOAA CAP Emergency Alert System environment configuration
# Copy this file to `.env` and update the placeholders before running the stack.

# -----------------------------------------------------------------------------
# Core application settings
# -----------------------------------------------------------------------------
SECRET_KEY=replace-with-a-long-random-string
APP_BUILD_VERSION=2.1.7
NOAA_USER_AGENT=KR8MER CAP Alert System/2.1 (+https://github.com/KR8MER/noaa_alerts_systems)

# -----------------------------------------------------------------------------
# Database connection (PostgreSQL + PostGIS)
# Update POSTGRES_PASSWORD for any production deployment.
# -----------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=alerts
POSTGRES_USER=postgres
POSTGRES_PASSWORD=change-me
# DATABASE_URL can override the values above when provided; leave blank to build it automatically.
# DATABASE_URL=

# -----------------------------------------------------------------------------
# Poller and logging behaviour
# -----------------------------------------------------------------------------
POLL_INTERVAL_SEC=180
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Optional LED sign integration
# Leave LED_SIGN_IP blank to disable Alpha sign output.
# -----------------------------------------------------------------------------
LED_SIGN_IP=
LED_SIGN_PORT=10001

# -----------------------------------------------------------------------------
# SAME / EAS broadcaster configuration
# Set EAS_BROADCAST_ENABLED=true to activate audio generation and GPIO relay control.
# -----------------------------------------------------------------------------
EAS_BROADCAST_ENABLED=false
EAS_OUTPUT_DIR=static/eas_messages
EAS_OUTPUT_WEB_SUBDIR=eas_messages
EAS_ORIGINATOR=WXR
EAS_STATION_ID=EASNODES
EAS_ATTENTION_TONE_SECONDS=8
EAS_SAMPLE_RATE=44100
EAS_AUDIO_PLAYER=aplay
EAS_GPIO_PIN=
EAS_GPIO_ACTIVE_STATE=HIGH
# Relay stays active for the whole alert (including the EOM burst); this is the minimum hold after playback.
EAS_GPIO_HOLD_SECONDS=5
# Comma-separated SAME/FIPS codes authorized for manual CAP broadcasts and the quick RWT preset.
# Use ALL (or US/USA) to authorize the entire nationwide registry bundled with the project.
EAS_MANUAL_FIPS_CODES=039137
# SAME event codes authorized for manual CAP forwarding (ALL, TESTS, or comma-separated list)
# Leave blank for all codes; example below forwards routine tests only
EAS_MANUAL_EVENT_CODES=TESTS

# -----------------------------------------------------------------------------
# Optional Azure AI Speech voiceover configuration
# Leave AZURE_SPEECH_KEY blank to fall back to the built-in tone generator.
# -----------------------------------------------------------------------------
AZURE_SPEECH_KEY=
AZURE_SPEECH_REGION=
# Uncomment to override the default neural voice or synthesized sample rate.
# AZURE_SPEECH_VOICE=en-US-AriaNeural
# AZURE_SPEECH_SAMPLE_RATE=24000

# -----------------------------------------------------------------------------
# Optional location defaults for the admin UI
# -----------------------------------------------------------------------------
DEFAULT_TIMEZONE=America/New_York
DEFAULT_COUNTY_NAME=Putnam County
DEFAULT_STATE_CODE=OH
DEFAULT_ZONE_CODES=OHZ016,OHC137
DEFAULT_AREA_TERMS=PUTNAM COUNTY,PUTNAM CO,OTTAWA,LEIPSIC,PANDORA,GLANDORF,KALIDA,FORT JENNINGS,COLUMBUS GROVE,DUPONT,MILLER CITY,OTTOVILLE
DEFAULT_MAP_CENTER_LAT=41.0195
DEFAULT_MAP_CENTER_LNG=-84.1190
DEFAULT_MAP_ZOOM=9
DEFAULT_LED_LINES=PUTNAM COUNTY,EMERGENCY MGMT,NO ALERTS,SYSTEM READY
